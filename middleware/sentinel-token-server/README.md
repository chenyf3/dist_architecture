## 项目说明
token-server 是用作集群限流时的服务端，单独部署。

## 生产环境部署
token-server与sentinel-dashboard这两者的部署性质还挺像的，两者都是希望同一个客户端应用的不同实例能够连接到同一个服务端实例，这样才能保障到服务端
数据的准确性，但同时，如果发生了同一个客户端应用的不同实例在短时间内不是连接的同一个服务端实例，也并不会对业务产生很严重的影响，无非就是统计数据没那
么准确，所以，只要能够做到同一个客户端应用的不同实例最终能够连接到同一个服务端实例就可以了。当然，虽然两者有着共同特性，但token-server也有其特殊性，
它需要承载的访问压力要比dashboard大得多，因为客户端会不停的向token-server拿token，用以判断当前请求是通过还是阻塞，并且token-server的稳定性
可能会直接影响到业务系统，这就要求token-server要能够支持高可用、高并发、高拓展的要求了，这里也提供几种部署模式供参考吧，第一种也是VIP模式，只要
保障到高可用就行，这种适合集群规模小的情况，第二种就是在token-server前面加负载均衡，用来分片，这种适合中等规模集群，第三种可以采用服务注册、发现
的模式，token-server在启动的时候将自己注册到注册中心，客户端在启动的时候就从注册中心拿到token-server的实例列表，然后根据一些规则选中其中一个来
连接，再通过在注册中心对token-server服务进行订阅，后续不管token-server是宕机缩容、人工缩容，还是拓容，客户端都可以感知到，感知到之后重新拉取实
例列表，然后重新选择实例进行连接，能够同时满足高可用、高拓展、高性能，不足点就是需要依赖注册中心，不过因为token-server本身就需要依赖nacos作为配置中心，
而nacos还同时可以作为注册中心(zookeeper、redis等也一样可以)，所以，也没有增加额外的负担，部署示例图如下：  
![arch_pic](/docs/images/sentinel-token-server.png)

## 注意点
1. 如果是采用服务注册-发现的模式，需要starter-sentinel中的客户端来配合使用
2. token-server实例拓容、缩容时(宕机可理解为非人为缩容)，这个实例上的统计数据将不存在，客户端会连接到其他的token-server实例，在这个时间段内的统计是不准确的
