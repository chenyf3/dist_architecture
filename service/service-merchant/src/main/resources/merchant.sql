/*
SQLyog Ultimate v13.1.1 (64 bit)
MySQL - 8.0.23 : Database - merchant
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/`merchant` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;

USE `merchant`;

/*Table structure for table `tbl_merchant` */

DROP TABLE IF EXISTS `tbl_merchant`;

CREATE TABLE `tbl_merchant` (
  `ID` bigint unsigned NOT NULL AUTO_INCREMENT,
  `CREATE_TIME` datetime NOT NULL,
  `VERSION` int unsigned NOT NULL DEFAULT '0',
  `MCH_NO` varchar(20) NOT NULL,
  `MCH_TYPE` smallint NOT NULL,
  `FULL_NAME` varchar(256) NOT NULL,
  `SHORT_NAME` varchar(128) NOT NULL,
  `STATUS` tinyint(1) NOT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE KEY `UK_MCH_NO` (`MCH_NO`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='商户表';

/*Data for the table `tbl_merchant` */

insert  into `tbl_merchant`(`ID`,`CREATE_TIME`,`VERSION`,`MCH_NO`,`MCH_TYPE`,`FULL_NAME`,`SHORT_NAME`,`STATUS`) values 
(1,'2021-05-07 14:33:50',0,'100100000001',1,'开发人员的测试加油站','开发加油站',2),
(2,'2021-05-08 19:48:41',0,'100100000002',2,'开发测试集团商户','集团商户开发',2);

/*Table structure for table `tbl_merchant_detail` */

DROP TABLE IF EXISTS `tbl_merchant_detail`;

CREATE TABLE `tbl_merchant_detail` (
  `ID` bigint unsigned NOT NULL AUTO_INCREMENT,
  `CREATE_TIME` datetime NOT NULL COMMENT '创建时间',
  `VERSION` int NOT NULL DEFAULT '0' COMMENT '版本号',
  `MODIFY_TIME` datetime NOT NULL COMMENT '修改时间',
  `MCH_NO` varchar(20) NOT NULL COMMENT '商户编号',
  `ADDRESS` varchar(256) NOT NULL DEFAULT '' COMMENT '商户地址',
  `URL` varchar(256) NOT NULL DEFAULT '' COMMENT '商户网址',
  `ICP` varchar(64) NOT NULL DEFAULT '' COMMENT '商户网站备案号',
  `TELEPHONE` varchar(20) NOT NULL DEFAULT '' COMMENT '固定电话',
  `BUSS_MOBILE_NO` varchar(20) NOT NULL DEFAULT '' COMMENT '业务联系手机号',
  `BUSS_CONTACT_EMAIL` varchar(80) NOT NULL DEFAULT '' COMMENT '业务联系邮箱',
  PRIMARY KEY (`ID`),
  UNIQUE KEY `UK_MCH_NO` (`MCH_NO`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='商户详细信息表';

/*Data for the table `tbl_merchant_detail` */

insert  into `tbl_merchant_detail`(`ID`,`CREATE_TIME`,`VERSION`,`MODIFY_TIME`,`MCH_NO`,`ADDRESS`,`URL`,`ICP`,`TELEPHONE`,`BUSS_MOBILE_NO`,`BUSS_CONTACT_EMAIL`) values 
(1,'2021-05-07 14:33:50',0,'2021-05-07 14:33:50','100100000001','广东省深圳市南山区xx路xx号','','','','13800138000','13800138000@qq.com'),
(2,'2021-05-08 19:48:41',0,'2021-05-08 19:48:41','100100000002','广东省广州市天河区xx路xx号','','','','13800138001','group@xpay.com');

/*Table structure for table `tbl_merchant_secret` */

DROP TABLE IF EXISTS `tbl_merchant_secret`;

CREATE TABLE `tbl_merchant_secret` (
  `ID` bigint unsigned NOT NULL AUTO_INCREMENT,
  `CREATE_TIME` datetime NOT NULL COMMENT '创建时间',
  `VERSION` int NOT NULL DEFAULT '0' COMMENT '版本号',
  `MODIFY_TIME` datetime NOT NULL COMMENT '修改时间',
  `MCH_NO` varchar(20) NOT NULL COMMENT '商户编号',
  `SECRET_KEYS` json DEFAULT NULL COMMENT '密钥信息(json数组)',
  PRIMARY KEY (`ID`),
  UNIQUE KEY `UK_MCH_NO` (`MCH_NO`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='商户密钥表';

/*Data for the table `tbl_merchant_secret` */

insert  into `tbl_merchant_secret`(`ID`,`CREATE_TIME`,`VERSION`,`MODIFY_TIME`,`MCH_NO`,`SECRET_KEYS`) values 
(1,'2021-05-07 14:33:51',0,'2021-05-07 14:33:51','100100000001','[{\"signType\": 2, \"mchPublicKey\": null, \"platPublicKey\": \"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAjlFNPu0gh8EJTxdmGg4uMM3+92QlZ2Cuox5fA6hLkD3iJkyjagHHPt3bXS84BeuJ8ssyUx3S8rKqu2YfUK0hqKLw4mBX48N6EEyRpE9lbNjAJfERnGRzO4nRIO6+G55mY3VP4y3zpx8uxKGKLmBrpw6NdpSpK893yE0lA5/zUffejwukzH63ogu1k7svlcSpHfS568fXB7ewkINsQ+CrPQfO/iRaqjJOkKYdRWdUhQbNeW89CyG14miPcHuRx4x4r7liIXR7RmsUfn2xtP/KJnWM9pkdPuRZBnEHwi+PR9eVr0O2c6GyzR+gxmHq57Y/VlYWj1G3h+BIZpboGxkXhwIDAQAB\", \"platPrivateKey\": \"MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCOUU0+7SCHwQlPF2YaDi4wzf73ZCVnYK6jHl8DqEuQPeImTKNqAcc+3dtdLzgF64nyyzJTHdLysqq7Zh9QrSGoovDiYFfjw3oQTJGkT2Vs2MAl8RGcZHM7idEg7r4bnmZjdU/jLfOnHy7EoYouYGunDo12lKkrz3fITSUDn/NR996PC6TMfreiC7WTuy+VxKkd9Lnrx9cHt7CQg2xD4Ks9B87+JFqqMk6Qph1FZ1SFBs15bz0LIbXiaI9we5HHjHivuWIhdHtGaxR+fbG0/8omdYz2mR0+5FkGcQfCL49H15WvQ7ZzobLNH6DGYerntj9WVhaPUbeH4EhmlugbGReHAgMBAAECggEAEy7+XJcWJXZtzM14o9Z5f3alAa/sIs0zfSVg5VtQJDdTPppiBK4Mr3q0URFGWfXv+FxPgkio4LIYtX4Ehplvyg18rucRsc/tqjjIAP/6yftFm1etaglYRxRCrk/ALHTjlFCB3juZdlOLuFGWEL5KhJA/nVZYn2Et4kAT1zM+VzQAtWIgrHqR40TyFmN823RL+w04IyaNQHIxcmrTd/jSWqoM0sMHEHRwMvIp1FFapn+0+zYT//gw7q+JeZy1SP+dniiJ9DGtSa8UpZJx9qDiWPTEbZWXQlIg9e/vTfRHmF//jrb6BDs17zN+O96IMZDGuOLd1kxF+9necTfzDTB78QKBgQDIScxCMTL6NhfUaqd6z8RK7ms4UvmWT1MRNx71pIBPIUkRJnUaCzZDn2+GB9sKtLfpucY8He2V440mPy4XifgEfbZ23MspD0j7YVf6SOLO2XzRAwZrAc3YywALiGave/Egqh7pYQs2E3r55Keh3Cj6PD816pkxldCInh2J7bPUMwKBgQC154FlxtgacuIpvjcGPCTl03cZYL2Mnb+ek/reDeTIvIIwv95C5XnK29D315+tGY58CQ/m2Bn1uATYnMBS9B8DanU1bt2OZOjEpnnTrLYxq3f4N6xKCGwCdi9IcY1dUHYx04QtthwEc1tZ/Xehxpye1JwaC8RHz6OIhIk9km37XQKBgCT0WNettDYuXN84foZOZ21b6DSQOrTdFfqLLQ8ttu7iuVSMv/Z6MxzvAei88lFbXsOlH0pgS0HoplZ0OdDmB/jsKQptWp7Mzy5ym4T2hcKcpkb6Q+jigFSLwApgtHGUcL0SJnnxCdyEY6BP7A4VTQo+q3sLOhDID53lbpXQYem5AoGAQWBc7zlR/d+ATURh/kmrcTZZPbO5LEqdzd6dcSVJLqQhnme2+BAFf9UU+55xcwMWZJnVL0BHxDpI85kSvj2iz9V5HqUj18OIrPSwIFWYfa2Exp8rusfgGdpkEANPrVP3xtygStWCqE7VbDhewLPjImqDWBEWkECeI7iOoqR4BrkCgYAdaP0eta89I5IB3rXvRh+dNi+nm/5usa+wY0O2FiXUVucg9TE/rUj/k+Dd8UUByhjFxztIlh74UkaB1oD+oLQE5yviWWmSbxlMHcChNiYcU/mzBbORGK1GBDeeyf+nbZSC5ibRsKAXKXQdLAIBhEPFNSgU8QBnOi70k4hcIv2S4A==\"}]'),
(2,'2021-05-08 19:48:44',0,'2021-05-08 19:48:44','100100000002','[{\"signType\": 2, \"mchPublicKey\": null, \"platPublicKey\": \"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsgtuauMcqVl6DyZjTIAl2rn0bIfTuVnQoIyRT6NeOY1FYNVRP641XivkW3NBcnCbYGuCNEWWAUjOIzjei2F+O/9z4OhcOtrAnBb/yBCwLUGtKprCUlky3NFjSnk+RzY9Kq0CPeXPlIw9QxNXIhCM7bV3GhejiT8/Y/mX5Kx8O2GXFkzFJ1LCHKvloa/jJ0PzJCSidWgX0m7E9S4PSm+nbMtyB2nn7qf2Af1r/QHawjKRLTEjCDXeHHduXY0TvT1jl2tH6lbUQqKgJWAtJYT8lPfyRJEA76gA/ZS8Rp3uhLGx5rTM4XFbwfx83bBzOTtK6jM4LqOtXG63TP6TUuzXAwIDAQAB\", \"platPrivateKey\": \"MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCyC25q4xypWXoPJmNMgCXaufRsh9O5WdCgjJFPo145jUVg1VE/rjVeK+Rbc0FycJtga4I0RZYBSM4jON6LYX47/3Pg6Fw62sCcFv/IELAtQa0qmsJSWTLc0WNKeT5HNj0qrQI95c+UjD1DE1ciEIzttXcaF6OJPz9j+ZfkrHw7YZcWTMUnUsIcq+Whr+MnQ/MkJKJ1aBfSbsT1Lg9Kb6dsy3IHaefup/YB/Wv9AdrCMpEtMSMINd4cd25djRO9PWOXa0fqVtRCoqAlYC0lhPyU9/JEkQDvqAD9lLxGne6EsbHmtMzhcVvB/HzdsHM5O0rqMzguo61cbrdM/pNS7NcDAgMBAAECggEANrTOe6dHAj4NBCSudC4X84oZsVNW2eff88TdTVQMOrDOtX82FNQJb+MaqoLShEBXbZv7COasvb5KIIZz0u3k5LiMOXoMBMV8Uzm55BZEm9NHSwT8WmMv/quTz6lLWoQu7TL1smEvlBw3IqoJptzhAJU2gFztEdnON4DUjB33miLQ9gKVYhGzsYZVGgzNZhkyf2T0wLrU4HAYcg62YXTLDTK/zsmTxUiqDMQYeBQgihh8zKpkD1QdM20uZmfDRSrLyWZ6G17x6MrAcfwJRkjqTMeLzq0eNylAr7bMfeik781zOPs1qx0DnlAYkolx/di6iLLwVLYBiXpyNpPEdZZ00QKBgQDz4fTcqlug2jgL/KqaW2Jm155qlOoE906k1gtuotSxQ2HQk6dQJ1njh2jOzscAKNDT3IRdA6jOCxRd2eJIsUBg/kNzgOMyu8pks5D3DdBtYIoHYkIMf4oM6muqmGkGLgzcCyK5iaI4dvTeMqvpRYmlcujg35VKMhX7FQbY4N19iQKBgQC65A3tPAbVWQ5HWisPurlHVieoYKTaYbruoNfYOIFDJruT+321C6GhQ8x4t7zpceupzIJNmscAYtIwuK2OVLFRanUrLfRfAN4W//9NDEymOBR2Q/7TopTSNUNU0jU6NDZfXio3KfUqZTwWY+bFbpSeMFIleoe0HXf5i6GzFIt5KwKBgQCfsw/ny7pyi1L2Ln780uiN1ZXLzzWrCNK7x9n2mbPTW/9aWMXQC+SlxI7SFb9kEFYm1ZjrW7EXM1Qj3MB7v24b1YQPx49/Mk9nP9qmnKomZXgdO69qhb29lWfpbyIexNrw4G3dtw2+Ec9pDR9bgoiPCb8LOf2Fd2TDZNJ2BFGlmQKBgHe4K2uzLjVxLQJsMnWLCbE28YSdFD2IqXS/uEUcPUHFCBhN3EMjxlBF3C/gk7V/cpV9GmOYKK6In1jylMs+WbBr387fS1GofpyBNQwoOtmnxwPTnuP3nBnkYNNvLQWx+Lqy2Zwo1pJn80vshyImKjIDhjvX+CJbVkWXOug62vWtAoGASin5MObTjXmxE1PnT44uVeVjEw0GP6VUhjjTiY8r0wZe+u6spq+QvlmN3G9gm4HR3/9/8duNPtyrwbbcUGmwpK7G091EAQR/ex1xNnYULL6/GAgNWFlKby2C2ltBAHw3oZpPaHhn+kYRgf7/BWSjGullOEeGR3mAEjbilG5uWBU=\"}]');

/*Table structure for table `tbl_merchant_trade_pwd` */

DROP TABLE IF EXISTS `tbl_merchant_trade_pwd`;

CREATE TABLE `tbl_merchant_trade_pwd` (
  `ID` bigint unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID',
  `CREATE_TIME` datetime NOT NULL COMMENT '创建时间',
  `VERSION` int NOT NULL DEFAULT '0' COMMENT '版本号',
  `MCH_NO` varchar(20) NOT NULL COMMENT '商户编号',
  `TRADE_PWD` varchar(256) NOT NULL COMMENT '交易密码(密文)',
  `ERROR_TIMES` smallint NOT NULL DEFAULT '0' COMMENT '密码错误次数',
  `LAST_ERROR_TIME` datetime DEFAULT NULL COMMENT '最后一次输错密码时间',
  `INITIAL` tinyint(1) NOT NULL DEFAULT '-1' COMMENT '是否初始密码(1:是, -1:否)',
  PRIMARY KEY (`ID`),
  UNIQUE KEY `UK_MCH_NO` (`MCH_NO`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='商户交易密码表';

/*Data for the table `tbl_merchant_trade_pwd` */

insert  into `tbl_merchant_trade_pwd`(`ID`,`CREATE_TIME`,`VERSION`,`MCH_NO`,`TRADE_PWD`,`ERROR_TIMES`,`LAST_ERROR_TIME`,`INITIAL`) values 
(1,'2021-05-07 14:33:50',0,'100100000001','f1f7b36103f957b12b5186f77cd9f497',0,NULL,1),
(2,'2021-05-08 19:48:43',0,'100100000002','e0dc9c4b6a59142a66ff4060c9b46e13',0,NULL,1);

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
